<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>administration_page</title>
</head>
<body>
<header th:replace="fragments/headers :: header-normal">
header will be here
</header>

<table>
    <thead>
        <tr>
            <th>Medarbejder fornavn</th>
            <th>Medarbejder efternavn</th>
            <th>Medarbejder afdeling</th>
            <th th:if="${session.isTypeAdmin}">Medarbejder brugernavn</th>
            <th th:if="${session.create}">Medarbejder password</th>
        </tr>
    </thead>
    <tbody th:if="${session.create}">
    <form method="post" action="/user_created"><tr>
        <td><input  type="text" name="first_name" required></td>
        <td><input  type="text" name="last_name" required></td>
        <td><input  list="user_types" name="user_type" required></td>
        <datalist id="user_types">
            <option value="admin">
            <option value="dataregistrering">
            <option value="forretningsudvikler">
            <option value="skade- og mangler">
        </datalist>
        <td><input  type="text" name="log_in_name" required></td>
        <td><input  type="text" name="user_password" required></td>
        <td><input type="submit" value="opret"></td></form>
    <td><button><a href="/cancel_create_user">fortryd</a></button></td>
    </tbody>
    <tbody th:if="${session.delete}">
    <tr th:each="UserModel : ${userToBeDeleted}">
        <td th:text="${UserModel.firstName}">first name</td>
        <td th:text="${UserModel.lastName}">last name</td>
        <td th:text="${UserModel.employeeType}">department</td>
        <td th:text="${UserModel.logInName}">user name</td>
        <td><button><a th:href="@{'/final_delete_user/' + ${UserModel.logInName}}">SLET</a></button></td>
        <td><button><a th:href="@{'/regret_delete_user/' + ${UserModel.logInName}}">FORTRYD</a></button></td>
    </tbody>
    <tbody th:unless="${session.isTypeAdmin}">
    <tr th:each="UserModel : ${user}">
        <td th:text="${UserModel.firstName}">first name</td>
        <td th:text="${UserModel.lastName}">last name</td>
        <td th:text="${UserModel.employeeType}">department</td>
    </tr>
    </tbody>
    <tbody th:if="${session.isTypeAdmin}">
        <tr th:each="UserModel : ${user}">
            <td th:text="${UserModel.firstName}">first name</td>
            <td th:text="${UserModel.lastName}">last name</td>
            <td th:text="${UserModel.employeeType}">department</td>
            <td th:text="${UserModel.logInName}">user name</td>
            <td><button><a th:href="@{'/update_user/' + ${UserModel.logInName}}">rediger</a></button></td>
            <td th:unless="${session.delete}"><form method="post" th:action="@{'/delete_user/' + ${UserModel.logInName}}"><input type="text" value="true" name="delete" hidden><button>SLET</button></form></td></form>
        </tr>
        <td><button><a href="/create_user">opret bruger</a></button></td>

    </tbody>
</table>


</body>
</html>