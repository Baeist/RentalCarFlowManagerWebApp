<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Lease Dashboard</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="/static/styling.css" th:href="@{/static/styling.css}">
</head>

<body class="body">
<header th:replace="fragments/headers :: header-normal">
    header will be here
</header>
<div th:replace="fragments/page_menu :: normal_menu">
    link menu will be here
</div>


<div class="content">

    <h1>Alle lease kontraker</h1>


    <div class="contract-form">
        <form class="">
                <span class="input-group-text bg-primary" id="inputGroup-sizing-sm"><label>Opret kontrakt</label>
                    <input class="form-control" placeholder="Indtast kunde id" type="number">
                    <button type="submit" class="btn btn-success btn-sm">Opret</button>
                </span>
        </form>
    </div>

    <table class="table">
        <div th:each="Contract : ${allContracts}">
            <tr class="table-dark">
                <td>ContractID: [[${Contract.contractID}]]</td>
                <td>[[${Contract.customerID}]]</td>
                <td th:colspan="3">[[${Contract.employeeID}]]</td>
                <td>
                    <a th:if="${session.isTypeRegistering}" th:href="@{'/lease/create'}">
                        <button class="btn btn-sm btn-primary">ny lease</button>
                    </a>
                </td>
            </tr>

            <div th:each="Lease : ${allLeases}">
                <tr class="table-light table-sm" th:if="${Contract.contractID} == ${Lease.contractID}">
                    <td>LeaseID: [[${Lease.leaseID}]]</td>
                    <td>Startdate: [[${Lease.startDate}]]</td>
                    <td>Total days: [[${Lease.leasePeriodDays}]]</td>
                    <td>[[${Lease.carID}]]</td>

                    <td th:if="${session.isTypeRegistering}">
                        <a th:href="@{'/lease/edit/' + ${Lease.leaseID}}">
                            <button class="btn btn-sm btn-primary">Edit</button>
                        </a>
                    </td>

                    <td th:if="${session.isTypeRegistering}">
                        <a th:href="@{'/lease/delete/' + ${Lease.leaseID}}">
                            <button class="btn btn-sm btn-danger">Slet</button>
                        </a>
                    </td>
                </tr>
            </div>
        </div>
    </table>
</div>


</body>

</html>