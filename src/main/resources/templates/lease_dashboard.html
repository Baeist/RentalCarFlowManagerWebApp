<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Lease Dashboard</title>

    <link rel="stylesheet" th:href="@{/styling.css}" href="src/main/resources/CSS/styling.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>

<body class="body">
<div class="container-fluid">

    <table class="table">
        <div th:each="Contract : ${allContracts}">
            <tr class="table-dark">
                <td>ContractID: [[${Contract.contractID}]]</td>
                <td>CustomerID: [[${Contract.customerID}]]</td>
                <td th:colspan="4"> EmployeeID: [[${Contract.employeeID}]]</td>
            </tr>

            <div th:each="Lease : ${allLeases}">
                <tr class="table-light table-sm" th:if="${Contract.contractID} == ${Lease.contractID}">
                    <td>LeaseID: [[${Lease.leaseID}]]</td>
                    <td>Startdate: [[${Lease.startDate}]]</td>
                    <td>Total days: [[${Lease.leasePeriodDays}]]</td>
                    <td>[[${Lease.carID}]]</td>

                    <td>
                        <a th:href="@{'/dashboard/lease/edit/' + ${Lease.leaseID}}">
                            <button class="btn btn-sm btn-primary">Edit</button>
                        </a>
                    </td>

                    <td>
                        <a th:href="@{'/dashboard/lease/delete/' + ${Lease.leaseID}}">
                            <button th class="btn btn-sm btn-danger">Slet</button>
                        </a>
                    </td>
                </tr>
            </div>

        </div>
    </table>


    <a th:href="@{'/dashboard/lease/create'}">
        <h1>Create Lease</h1>
    </a>

</div>


</body>

</html>